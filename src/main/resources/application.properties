spring.freemarker.template-loader-path=classpath:/templates/
spring.freemarker.enabled=true
spring.freemarker.suffix=.ftl
spring.application.name=k-beat

# 静态资源版本号（用于 Cache Busting：每次改核心 UI/逻辑请递增）
app.assets.version=2025-12-17.2

# 性能：压缩与静态资源缓存（配合 assetsVersion 做强缓存 + 可控失效）
server.compression.enabled=true
server.compression.min-response-size=1024
server.compression.mime-types=text/html,text/plain,text/css,text/javascript,application/javascript,application/json
spring.web.resources.cache.cachecontrol.max-age=365d
spring.web.resources.cache.cachecontrol.cache-public=true
spring.web.resources.chain.cache=true

# 观测：Server-Timing 与慢请求日志
app.http.serverTiming.enabled=true
app.http.slowRequestThresholdMs=400

# 数据持久化（H2 文件库：重启不丢数据）
spring.datasource.url=jdbc:h2:file:./data/kbeat;DB_CLOSE_DELAY=-1;AUTO_SERVER=TRUE
spring.datasource.username=sa
spring.datasource.password=
spring.datasource.driver-class-name=org.h2.Driver

spring.jpa.hibernate.ddl-auto=update
spring.jpa.open-in-view=false

# 友好错误页（避免裸露默认 Whitelabel / StackTrace）
server.error.whitelabel.enabled=false
server.error.include-message=never
server.error.include-binding-errors=never
server.error.include-stacktrace=never
server.error.include-exception=false

# 观测：Actuator（建议生产环境走内网或加鉴权）
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=never
management.endpoint.health.probes.enabled=true
